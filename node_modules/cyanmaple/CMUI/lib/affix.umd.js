!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).affix=e()}(this,(function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e,n=t((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),o={}.hasOwnProperty,r=function(t,e){return o.call(t,e)},i={}.toString,c=function(t){return i.call(t).slice(8,-1)},f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},u=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}},a={f:{}.propertyIsEnumerable},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==c(t)?t.split(""):Object(t)},h=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},d=function(t){return p(h(t))},y=function(t,e){if(!f(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!f(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!f(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!f(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},m=function(t){try{return!!t()}catch(t){return!0}},v=!m((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),g=n.document,_=f(g)&&f(g.createElement),b=function(t){return _?g.createElement(t):{}},w=!v&&!m((function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,E={f:v?x:function(t,e){if(t=d(t),e=y(e,!0),w)try{return x(t,e)}catch(t){}if(r(t,e))return l(!a.f.call(t,e),t[e])}},O=function(t,e){if(s(t),!f(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},S={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=u(Function.call,E.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,o){return O(t,o),e?t.__proto__=o:n(t,o),t}}({},!1):void 0),check:O}.set,N=function(t,e,n){var o,r=e.constructor;return r!==n&&"function"==typeof r&&(o=r.prototype)!==n.prototype&&f(o)&&S&&S(t,o),t},T=Math.ceil,I=Math.floor,$=function(t){return isNaN(t=+t)?0:(t>0?I:T)(t)},j=Math.min,P=Math.max,F=Math.min,C=t((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),A=(C.version,t((function(t){var e=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:C.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),R=0,M=Math.random(),L=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++R+M).toString(36))},H=A("keys"),k=function(t){return H[t]||(H[t]=L(t))},X=(e=!1,function(t,n,o){var r,i,c=d(t),f=(r=c.length)>0?j($(r),9007199254740991):0,s=function(t,e){return(t=$(t))<0?P(t+e,0):F(t,e)}(o,f);if(e&&n!=n){for(;f>s;)if((i=c[s++])!=i)return!0}else for(;f>s;s++)if((e||s in c)&&c[s]===n)return e||s||0;return!e&&-1}),U=k("IE_PROTO"),V=function(t,e){var n,o=d(t),i=0,c=[];for(n in o)n!=U&&r(o,n)&&c.push(n);for(;e.length>i;)r(o,n=e[i++])&&(~X(c,n)||c.push(n));return c},G="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),z=G.concat("length","prototype"),B={f:Object.getOwnPropertyNames||function(t){return V(t,z)}},W=Object.defineProperty,D={f:v?Object.defineProperty:function(t,e,n){if(s(t),e=y(e,!0),s(n),w)try{return W(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Y=v?function(t,e,n){return D.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},q=A("native-function-to-string",Function.toString),J=t((function(t){var e=L("src"),o=(""+q).split("toString");C.inspectSource=function(t){return q.call(t)},(t.exports=function(t,i,c,f){var s="function"==typeof c;s&&(r(c,"name")||Y(c,"name",i)),t[i]!==c&&(s&&(r(c,e)||Y(c,e,t[i]?""+t[i]:o.join(String(i)))),t===n?t[i]=c:f?t[i]?t[i]=c:Y(t,i,c):(delete t[i],Y(t,i,c)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||q.call(this)}))})),K=function(t,e,o){var r,i,c,f,s=t&K.F,a=t&K.G,l=t&K.S,p=t&K.P,h=t&K.B,d=a?n:l?n[e]||(n[e]={}):(n[e]||{}).prototype,y=a?C:C[e]||(C[e]={}),m=y.prototype||(y.prototype={});for(r in a&&(o=e),o)c=((i=!s&&d&&void 0!==d[r])?d:o)[r],f=h&&i?u(c,n):p&&"function"==typeof c?u(Function.call,c):c,d&&J(d,r,c,t&K.U),y[r]!=c&&Y(y,r,f),p&&m[r]!=c&&(m[r]=c)};n.core=C,K.F=1,K.G=2,K.S=4,K.P=8,K.B=16,K.W=32,K.U=64,K.R=128;var Q=K,Z="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",tt="["+Z+"]",et=RegExp("^"+tt+tt+"*"),nt=RegExp(tt+tt+"*$"),ot=function(t,e,n){var o={},r=m((function(){return!!Z[t]()||"​"!="​"[t]()})),i=o[t]=r?e(rt):Z[t];n&&(o[n]=i),Q(Q.P+Q.F*r,"String",o)},rt=ot.trim=function(t,e){return t=String(h(t)),1&e&&(t=t.replace(et,"")),2&e&&(t=t.replace(nt,"")),t},it=ot,ct=Object.keys||function(t){return V(t,G)},ft=v?Object.defineProperties:function(t,e){s(t);for(var n,o=ct(e),r=o.length,i=0;r>i;)D.f(t,n=o[i++],e[n]);return t},st=n.document,ut=st&&st.documentElement,at=k("IE_PROTO"),lt=function(){},pt=function(){var t,e=b("iframe"),n=G.length;for(e.style.display="none",ut.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pt=t.F;n--;)delete pt.prototype[G[n]];return pt()},ht=Object.create||function(t,e){var n;return null!==t?(lt.prototype=s(t),n=new lt,lt.prototype=null,n[at]=t):n=pt(),void 0===e?n:ft(n,e)},dt=B.f,yt=E.f,mt=D.f,vt=it.trim,gt=n.Number,_t=gt,bt=gt.prototype,wt="Number"==c(ht(bt)),xt="trim"in String.prototype,Et=function(t){var e=y(t,!1);if("string"==typeof e&&e.length>2){var n,o,r,i=(e=xt?e.trim():vt(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var c,f=e.slice(2),s=0,u=f.length;s<u;s++)if((c=f.charCodeAt(s))<48||c>r)return NaN;return parseInt(f,o)}}return+e};if(!gt(" 0o1")||!gt("0b1")||gt("+0x1")){gt=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof gt&&(wt?m((function(){bt.valueOf.call(n)})):"Number"!=c(n))?N(new _t(Et(e)),n,gt):Et(e)};for(var Ot,St=v?dt(_t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Nt=0;St.length>Nt;Nt++)r(_t,Ot=St[Nt])&&!r(gt,Ot)&&mt(gt,Ot,yt(_t,Ot));gt.prototype=bt,bt.constructor=gt,J(n,"Number",gt)}function Tt(t,e){var n=e?"scrollTop":"scrollLeft",o=t[e?"pageYOffset":"pageXOffset"];return"number"!=typeof o&&(o=window.document.documentElement[n]),o}function It(t,e,n,o,r,i,c,f,s,u){"boolean"!=typeof c&&(s=f,f=c,c=!1);const a="function"==typeof n?n.options:n;let l;if(t&&t.render&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns,a._compiled=!0,r&&(a.functional=!0)),o&&(a._scopeId=o),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,s(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},a._ssrRegister=l):e&&(l=c?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,f(t))}),l)if(a.functional){const t=a.render;a.render=function(e,n){return l.call(n),t(e,n)}}else{const t=a.beforeCreate;a.beforeCreate=t?[].concat(t,l):[l]}return n}const $t={name:"cmui-affix",props:{top:{type:Number,default:0,intro:"触发时距离顶部的距离，用PX表示"},bottom:{type:Number,default:-1/0,intro:"触发时距离底部的距离，用PX表示"}},data:function(){return{affix:!1,styles:{},containerHeight:null}},computed:{offsetType:function(){return this.bottom>=0?"bottom":"top"}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)},methods:{handleScroll:function(){var t=this.affix,e=Tt(window,!0),n=function(t){var e=t.getBoundingClientRect(),n=Tt(window,!0),o=Tt(window),r=window.document.body,i=r.clientTop||0,c=r.clientLeft||0;return{top:e.top+n-i,left:e.left+o-c}}(this.$el),o=window.innerHeight,r=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.top<e&&"top"===this.offsetType&&!t?(this.affix=!0,this.styles={top:"".concat(this.top,"px"),left:"".concat(n.left,"px"),width:"".concat(this.$el.offsetWidth,"px"),position:"fixed"},this.$el.style.height?this.containerHeight=this.$el.style.height:this.$el.style.height="".concat(r,"px"),this.$emit("change",!0)):n.top-this.top>=e&&"top"===this.offsetType&&t&&(this.affix=!1,this.styles=null,this.$el.style.height=this.containerHeight?"".concat(this.containerHeight,"px"):null,this.$emit("change",!1)),n.top+this.bottom+r>e+o&&"bottom"===this.offsetType&&!t?(this.affix=!0,this.styles={bottom:"".concat(this.bottom,"px"),left:"".concat(n.left,"px"),width:"".concat(this.$el.offsetWidth,"px"),position:"fixed",height:"".concat(r,"px")},this.$el.style.height?this.containerHeight=this.$el.style.height:this.$el.style.height="".concat(r,"px"),this.$emit("change",!0)):n.top+this.bottom+r<=e+o&&"bottom"===this.offsetType&&t&&(this.affix=!1,this.styles=null,this.$el.style.height=this.containerHeight?"".concat(this.containerHeight,"px"):null,this.$emit("change",!1))}}};var jt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cmui-affix-warp",class:{warpActive:this.affix}},[e("div",{staticClass:"cmui-affix",class:{affixActive:this.affix},style:this.styles},[this._t("default")],2)])};jt._withStripped=!0;const Pt=It({render:jt,staticRenderFns:[]},void 0,$t,void 0,!1,void 0,!1,void 0,void 0,void 0);return Pt.install=function(t,e){t.component(Pt.name,Pt)},Pt}));
