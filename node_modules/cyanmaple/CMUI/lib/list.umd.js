!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):(t=t||self).list=e(t._)}(this,(function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e=function(t){try{return!!t()}catch(t){return!0}},n=!e((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},o=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var c=i((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),u=c.document,a=r(u)&&r(u.createElement),s=function(t){return a?u.createElement(t):{}},f=!n&&!e((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})),l=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},p=Object.defineProperty,d={f:n?Object.defineProperty:function(t,e,n){if(o(t),e=l(e,!0),o(n),f)try{return p(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},h=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};n&&"g"!=/./g.flags&&d.f(RegExp.prototype,"flags",{configurable:!0,get:h});var y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v=n?function(t,e,n){return d.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},m={}.hasOwnProperty,g=function(t,e){return m.call(t,e)},_=0,b=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++_+b).toString(36))},x=i((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),E=(x.version,i((function(t){var e=c["__core-js_shared__"]||(c["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:x.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),I=E("native-function-to-string",Function.toString),O=i((function(t){var e=S("src"),n=(""+I).split("toString");x.inspectSource=function(t){return I.call(t)},(t.exports=function(t,r,o,i){var u="function"==typeof o;u&&(g(o,"name")||v(o,"name",r)),t[r]!==o&&(u&&(g(o,e)||v(o,e,t[r]?""+t[r]:n.join(String(r)))),t===c?t[r]=o:i?t[r]?t[r]=o:v(t,r,o):(delete t[r],v(t,r,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||I.call(this)}))})),T=/./.toString,L=function(t){O(RegExp.prototype,"toString",t,!0)};e((function(){return"/a/b"!=T.call({source:"a",flags:"b"})}))?L((function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?h.call(t):void 0)})):"toString"!=T.name&&L((function(){return T.call(this)}));var N,w={}.toString,C=function(t){return w.call(t).slice(8,-1)},P=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},A={f:{}.propertyIsEnumerable},j=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==C(t)?t.split(""):Object(t)},F=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},R=function(t){return j(F(t))},M=Object.getOwnPropertyDescriptor,$={f:n?M:function(t,e){if(t=R(t),e=l(e,!0),f)try{return M(t,e)}catch(t){}if(g(t,e))return y(!A.f.call(t,e),t[e])}},k=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},V={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=P(Function.call,$.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return k(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:k}.set,G=function(t,e,n){var o,i=e.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&r(o)&&V&&V(t,o),t},B=Math.ceil,D=Math.floor,H=function(t){return isNaN(t=+t)?0:(t>0?D:B)(t)},Y=Math.min,U=Math.max,W=Math.min,q=E("keys"),X=function(t){return q[t]||(q[t]=S(t))},z=(N=!1,function(t,e,n){var r,o,i=R(t),c=(r=i.length)>0?Y(H(r),9007199254740991):0,u=function(t,e){return(t=H(t))<0?U(t+e,0):W(t,e)}(n,c);if(N&&e!=e){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((N||u in i)&&i[u]===e)return N||u||0;return!N&&-1}),J=X("IE_PROTO"),K=function(t,e){var n,r=R(t),o=0,i=[];for(n in r)n!=J&&g(r,n)&&i.push(n);for(;e.length>o;)g(r,n=e[o++])&&(~z(i,n)||i.push(n));return i},Q="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Z=Q.concat("length","prototype"),tt={f:Object.getOwnPropertyNames||function(t){return K(t,Z)}},et=function(t,e,n){var r,o,i,u,a=t&et.F,s=t&et.G,f=t&et.S,l=t&et.P,p=t&et.B,d=s?c:f?c[e]||(c[e]={}):(c[e]||{}).prototype,h=s?x:x[e]||(x[e]={}),y=h.prototype||(h.prototype={});for(r in s&&(n=e),n)i=((o=!a&&d&&void 0!==d[r])?d:n)[r],u=p&&o?P(i,c):l&&"function"==typeof i?P(Function.call,i):i,d&&O(d,r,i,t&et.U),h[r]!=i&&v(h,r,u),l&&y[r]!=i&&(y[r]=i)};c.core=x,et.F=1,et.G=2,et.S=4,et.P=8,et.B=16,et.W=32,et.U=64,et.R=128;var nt=et,rt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",ot="["+rt+"]",it=RegExp("^"+ot+ot+"*"),ct=RegExp(ot+ot+"*$"),ut=function(t,n,r){var o={},i=e((function(){return!!rt[t]()||"​"!="​"[t]()})),c=o[t]=i?n(at):rt[t];r&&(o[r]=c),nt(nt.P+nt.F*i,"String",o)},at=ut.trim=function(t,e){return t=String(F(t)),1&e&&(t=t.replace(it,"")),2&e&&(t=t.replace(ct,"")),t},st=ut,ft=Object.keys||function(t){return K(t,Q)},lt=n?Object.defineProperties:function(t,e){o(t);for(var n,r=ft(e),i=r.length,c=0;i>c;)d.f(t,n=r[c++],e[n]);return t},pt=c.document,dt=pt&&pt.documentElement,ht=X("IE_PROTO"),yt=function(){},vt=function(){var t,e=s("iframe"),n=Q.length;for(e.style.display="none",dt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),vt=t.F;n--;)delete vt.prototype[Q[n]];return vt()},mt=Object.create||function(t,e){var n;return null!==t?(yt.prototype=o(t),n=new yt,yt.prototype=null,n[ht]=t):n=vt(),void 0===e?n:lt(n,e)},gt=tt.f,_t=$.f,bt=d.f,St=st.trim,xt=c.Number,Et=xt,It=xt.prototype,Ot="Number"==C(mt(It)),Tt="trim"in String.prototype,Lt=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=Tt?e.trim():St(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var c,u=e.slice(2),a=0,s=u.length;a<s;a++)if((c=u.charCodeAt(a))<48||c>o)return NaN;return parseInt(u,r)}}return+e};if(!xt(" 0o1")||!xt("0b1")||xt("+0x1")){xt=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof xt&&(Ot?e((function(){It.valueOf.call(r)})):"Number"!=C(r))?G(new Et(Lt(n)),r,xt):Lt(n)};for(var Nt,wt=n?gt(Et):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ct=0;wt.length>Ct;Ct++)g(Et,Nt=wt[Ct])&&!g(xt,Nt)&&bt(xt,Nt,_t(Et,Nt));xt.prototype=It,It.constructor=xt,O(c,"Number",xt)}var Pt=i((function(t){var e=E("wks"),n=c.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:S)("Symbol."+t))}).store=e})),At=Pt("unscopables"),jt=Array.prototype;null==jt[At]&&v(jt,At,{});var Ft=function(t){jt[At][t]=!0},Rt=function(t,e){return{value:e,done:!!t}},Mt={},$t=d.f,kt=Pt("toStringTag"),Vt=function(t,e,n){t&&!g(t=n?t:t.prototype,kt)&&$t(t,kt,{configurable:!0,value:e})},Gt={};v(Gt,Pt("iterator"),(function(){return this}));var Bt=function(t,e,n){t.prototype=mt(Gt,{next:y(1,n)}),Vt(t,e+" Iterator")},Dt=X("IE_PROTO"),Ht=Object.prototype,Yt=Object.getPrototypeOf||function(t){return t=Object(F(t)),g(t,Dt)?t[Dt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ht:null},Ut=Pt("iterator"),Wt=!([].keys&&"next"in[].keys()),qt=function(){return this},Xt=function(t,e,n,r,o,i,c){Bt(n,e,r);var u,a,s,f=function(t){if(!Wt&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",p="values"==o,d=!1,h=t.prototype,y=h[Ut]||h["@@iterator"]||o&&h[o],m=y||f(o),g=o?p?f("entries"):m:void 0,_="Array"==e&&h.entries||y;if(_&&(s=Yt(_.call(new t)))!==Object.prototype&&s.next&&(Vt(s,l,!0),"function"!=typeof s[Ut]&&v(s,Ut,qt)),p&&y&&"values"!==y.name&&(d=!0,m=function(){return y.call(this)}),(Wt||d||!h[Ut])&&v(h,Ut,m),Mt[e]=m,Mt[l]=qt,o)if(u={values:p?m:f("values"),keys:i?m:f("keys"),entries:g},c)for(a in u)a in h||O(h,a,u[a]);else nt(nt.P+nt.F*(Wt||d),e,u);return u}(Array,"Array",(function(t,e){this._t=R(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Rt(1)):Rt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Mt.Arguments=Mt.Array,Ft("keys"),Ft("values"),Ft("entries");for(var zt=Pt("iterator"),Jt=Pt("toStringTag"),Kt=Mt.Array,Qt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Zt=ft(Qt),te=0;te<Zt.length;te++){var ee,ne=Zt[te],re=Qt[ne],oe=c[ne],ie=oe&&oe.prototype;if(ie&&(ie[zt]||v(ie,zt,Kt),ie[Jt]||v(ie,Jt,ne),Mt[ne]=Kt,re))for(ee in Xt)ie[ee]||O(ie,ee,Xt[ee],!0)}function ce(t,e,n){this.$children.forEach((function(r){r.$options.componentName===t?r.$emit.apply(r,[e].concat(n)):ce.apply(r,[t,e].concat([n]))}))}var ue="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,ae="undefined"==typeof window?{doc:ue,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;function se(t,e,n,r,o,i,c,u,a,s){"boolean"!=typeof c&&(a=u,u=c,c=!1);const f="function"==typeof n?n.options:n;let l;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=c?function(t){e.call(this,s(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(f.functional){const t=f.render;f.render=function(e,n){return l.call(n),t(e,n)}}else{const t=f.beforeCreate;f.beforeCreate=t?[].concat(t,l):[l]}return n}const fe={name:"cmui-list",mixins:[{methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,o=r.$options.componentName;r&&(!o||o!==t);)(r=r.$parent)&&(o=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){ce.call(this,t,e,n)},getParent:function(e){for(var n=this.$parent;t.get(n,"$options._componentTag")!==e&&(n=t.get(n,"$parent")););return n}}}],props:{col:{type:[Number,Array],default:1,intro:"如果是数字代表列表的列数，如果数组，数组的长度表示列数，数组的每一项表示改该列所占的比例，如[1,2]表示两列，比例为1：2"},space:{type:Number,default:0,intro:"每一列之间的间距"},border:{type:[Boolean,String],default:!1,intro:"布尔类型表示每个item是否带有边框，如果space为0，则边框会自动重合，如果是string类型，表示边框的颜色值"},target:{type:Object,default:function(){return{}},intro:"用于存放后续需要的暂存对象"},index:{type:[Boolean,Function],default:!1,intro:"是否使用索引，可以和cmui-list-group联合使用"}},data:function(){return{borderColor:/^#[a-fA-F0-9]{6}$/.test(this.border)?this.border:"#eeeeee",groupList:[],activeIndex:0,indexItemHeight:0,startIndex:0,listEventStartY:0,useRem:!!/iphone|ipad|android|micromessenger/i.test(ae.navigator.userAgent)}},provide:function(){return{bus:{parent:this,children:[]}}},computed:{realSpace:function(){var t=parseInt(this.space)/(this.useRem?150:2)||0;return t?t+(this.useRem?"rem":"px"):0},realCol:function(){var e=this.col;return t.isNumber(e)?t.inRange(e,0,11)&&parseInt(e)||1:t.isArray(e)&&t.every(e,t.isNumber)?e.map((function(t){return parseInt(t)||1})):parseInt(e)||1},containerStyle:function(){return{margin:this.realSpace?"-".concat(this.realSpace):void 0}},boxShadow:function(){return this.border&&!this.realSpace?"0px 0px 0px 1px "+this.borderColor:""},noPaddingbFrom:function(){var e=this.$slots.default.filter((function(e){return"cmui-list-item"===t.get(e,"componentOptions.tag")})).length,n=t.isArray(this.realCol)?this.realCol.length:this.realCol;return e-(e%n||n)}},mounted:function(){if(this.index){var e=this;document.addEventListener("scroll",t.throttle((function(){e.activeIndex=e.groupList.filter((function(t){return t.vm.$el.getBoundingClientRect().top<0})).length}),500),{passive:!0})}},methods:{indexFormat:function(e){return t.isFunction(this.index)?this.index(e):e.toString()[0]},scrollToGroup:function(t){this.preventScroll=!0,this.groupList[t].vm.$el.scrollIntoView(),this.activeIndex=t},indexEvent:function(t,e){var n,r;this.activeIndex=e,this.startIndex=e,this.listEventStartY=t.touches[0].clientY,this.indexItemHeight=this.indexItemHeight||(n=t.target,r=ae.getComputedStyle(n),["marginTop","marginBottom","borderTopWidth","borderBottomWidth","height"].reduce((function(t,e){return t+parseInt(r[e])}),0)),this.scrollToGroup(e)},scrollOnIndex:function(t){var e=t.touches[0].clientY-this.listEventStartY,n=parseInt(e/this.indexItemHeight),r=this.startIndex+n;this.activeIndex!==r&&this.groupList[r]&&this.scrollToGroup(r)}}};var le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cmui-list",style:[t.boxShadow]},[n("div",{staticClass:"clearfix",style:t.containerStyle},[t.index?n("div",{staticClass:"fixed-right flex-container center cmui-list-index",staticStyle:{"z-index":"21"}},[n("div",{staticClass:"indexWarp flex-container-col scroll-container-y"},t._l(t.groupList,(function(e,r){return n("span",{key:r,class:{active:r===t.activeIndex},domProps:{textContent:t._s(t.indexFormat(e.title))},on:{touchstart:function(e){return t.indexEvent(e,r)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.scrollOnIndex(e)}}})})),0)]):t._e(),t._v(" "),t._t("default")],2)])};le._withStripped=!0;const pe=se({render:le,staticRenderFns:[]},void 0,fe,void 0,!1,void 0,!1,void 0,void 0,void 0);return pe.install=function(t,e){t.component(pe.name,pe)},pe}));
