!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):(t=t||self)["list-group"]=e(t._)}(this,(function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e={name:"cmui-list-item",inject:["bus"],props:{title:{type:String,default:"",intro:"标题文本"},bgcolor:{type:String,default:"",intro:"背景色"},border:{type:Boolean,default:!0,intro:"是否显示边框"}},data:function(){return{position:{},index:0}},computed:{itemContainerStyle:function(){var t,e=this.bus.parent;return this.border&&e.border&&0!==e.realSpace&&(t="0px 0px 0px 1px "+e.borderColor),{boxShadow:t}}},created:function(){this.index=this.bus.children.push(this)-1},destroyed:function(){t.remove(this.bus.children,this)},methods:{itemStyle:function(){var e,n=this.bus.parent.realCol,r=(t.isArray(n)?n.length:n)||1,i=this.index%r==0?"left":void 0,o=this.bus.parent.realSpace,s=this.bus.parent.boxShadow,c=this.bgcolor;if(t.isNumber(n)&&1!==n)e=100/n+"%";else if(t.isArray(n)){var u=n.reduce((function(t,e){return t+e}));e=100*n[this.index%n.length]/u+"%"}return{width:e,clear:i,padding:o,boxShadow:s,backgroundColor:c}}}};function n(t,e,n,r,i,o,s,c,u,a){"boolean"!=typeof s&&(u=c,c=s,s=!1);const l="function"==typeof n?n.options:n;let f;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r),o?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=f):e&&(f=s?function(t){e.call(this,a(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,c(t))}),f)if(l.functional){const t=l.render;l.render=function(e,n){return f.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,f):[f]}return n}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".cmui-list-item{float:left;position:relative;min-height:1px;width:100%}.cmui-list-item-title{position:-webkit-sticky;position:sticky;top:0;z-index:20}");const r=e;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"listItem",staticClass:"cmui-list-item",style:t.itemStyle()},[t.$slots.title||t.title?n("div",{staticClass:"cmui-list-item-title"},[t._t("title"),t._v(" "),t.$slots.title?t._e():[t._v("\n"+t._s(t.title)+"\n")]],2):t._e(),t._v(" "),n("div",{staticClass:"cmui-list-item-container",style:t.itemContainerStyle},[t._t("default")],2)])};i._withStripped=!0;const o=n({render:i,staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);var s=function(t){try{return!!t()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),u=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!u(t))throw TypeError(t+" is not an object!");return t};function l(t,e){return t(e={exports:{}},e.exports),e.exports}var f=l((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),p=f.document,d=u(p)&&u(p.createElement),h=function(t){return d?p.createElement(t):{}},m=!c&&!s((function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})),v=function(t,e){if(!u(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!u(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},y=Object.defineProperty,g={f:c?Object.defineProperty:function(t,e,n){if(a(t),e=v(e,!0),a(n),m)try{return y(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},b=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};c&&"g"!=/./g.flags&&g.f(RegExp.prototype,"flags",{configurable:!0,get:b});var _=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=c?function(t,e,n){return g.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},x={}.hasOwnProperty,E=function(t,e){return x.call(t,e)},I=0,C=Math.random(),O=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+C).toString(36))},w=l((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),T=(w.version,l((function(t){var e=f["__core-js_shared__"]||(f["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:w.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),L=T("native-function-to-string",Function.toString),N=l((function(t){var e=O("src"),n=(""+L).split("toString");w.inspectSource=function(t){return L.call(t)},(t.exports=function(t,r,i,o){var s="function"==typeof i;s&&(E(i,"name")||S(i,"name",r)),t[r]!==i&&(s&&(E(i,e)||S(i,e,t[r]?""+t[r]:n.join(String(r)))),t===f?t[r]=i:o?t[r]?t[r]=i:S(t,r,i):(delete t[r],S(t,r,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||L.call(this)}))})),A=/./.toString,P=function(t){N(RegExp.prototype,"toString",t,!0)};s((function(){return"/a/b"!=A.call({source:"a",flags:"b"})}))?P((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!c&&t instanceof RegExp?b.call(t):void 0)})):"toString"!=A.name&&P((function(){return A.call(this)}));var j,F={}.toString,R=function(t){return F.call(t).slice(8,-1)},$=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},k={f:{}.propertyIsEnumerable},M=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==R(t)?t.split(""):Object(t)},V=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},G=function(t){return M(V(t))},B=Object.getOwnPropertyDescriptor,D={f:c?B:function(t,e){if(t=G(t),e=v(e,!0),m)try{return B(t,e)}catch(t){}if(E(t,e))return _(!k.f.call(t,e),t[e])}},H=function(t,e){if(a(t),!u(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Y={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=$(Function.call,D.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return H(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:H}.set,U=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&u(r)&&Y&&Y(t,r),t},W=Math.ceil,q=Math.floor,z=function(t){return isNaN(t=+t)?0:(t>0?q:W)(t)},X=Math.min,J=Math.max,K=Math.min,Q=T("keys"),Z=function(t){return Q[t]||(Q[t]=O(t))},tt=(j=!1,function(t,e,n){var r,i,o=G(t),s=(r=o.length)>0?X(z(r),9007199254740991):0,c=function(t,e){return(t=z(t))<0?J(t+e,0):K(t,e)}(n,s);if(j&&e!=e){for(;s>c;)if((i=o[c++])!=i)return!0}else for(;s>c;c++)if((j||c in o)&&o[c]===e)return j||c||0;return!j&&-1}),et=Z("IE_PROTO"),nt=function(t,e){var n,r=G(t),i=0,o=[];for(n in r)n!=et&&E(r,n)&&o.push(n);for(;e.length>i;)E(r,n=e[i++])&&(~tt(o,n)||o.push(n));return o},rt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),it=rt.concat("length","prototype"),ot={f:Object.getOwnPropertyNames||function(t){return nt(t,it)}},st=function(t,e,n){var r,i,o,s,c=t&st.F,u=t&st.G,a=t&st.S,l=t&st.P,p=t&st.B,d=u?f:a?f[e]||(f[e]={}):(f[e]||{}).prototype,h=u?w:w[e]||(w[e]={}),m=h.prototype||(h.prototype={});for(r in u&&(n=e),n)o=((i=!c&&d&&void 0!==d[r])?d:n)[r],s=p&&i?$(o,f):l&&"function"==typeof o?$(Function.call,o):o,d&&N(d,r,o,t&st.U),h[r]!=o&&S(h,r,s),l&&m[r]!=o&&(m[r]=o)};f.core=w,st.F=1,st.G=2,st.S=4,st.P=8,st.B=16,st.W=32,st.U=64,st.R=128;var ct=st,ut="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",at="["+ut+"]",lt=RegExp("^"+at+at+"*"),ft=RegExp(at+at+"*$"),pt=function(t,e,n){var r={},i=s((function(){return!!ut[t]()||"​"!="​"[t]()})),o=r[t]=i?e(dt):ut[t];n&&(r[n]=o),ct(ct.P+ct.F*i,"String",r)},dt=pt.trim=function(t,e){return t=String(V(t)),1&e&&(t=t.replace(lt,"")),2&e&&(t=t.replace(ft,"")),t},ht=pt,mt=Object.keys||function(t){return nt(t,rt)},vt=c?Object.defineProperties:function(t,e){a(t);for(var n,r=mt(e),i=r.length,o=0;i>o;)g.f(t,n=r[o++],e[n]);return t},yt=f.document,gt=yt&&yt.documentElement,bt=Z("IE_PROTO"),_t=function(){},St=function(){var t,e=h("iframe"),n=rt.length;for(e.style.display="none",gt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),St=t.F;n--;)delete St.prototype[rt[n]];return St()},xt=Object.create||function(t,e){var n;return null!==t?(_t.prototype=a(t),n=new _t,_t.prototype=null,n[bt]=t):n=St(),void 0===e?n:vt(n,e)},Et=ot.f,It=D.f,Ct=g.f,Ot=ht.trim,wt=f.Number,Tt=wt,Lt=wt.prototype,Nt="Number"==R(xt(Lt)),At="trim"in String.prototype,Pt=function(t){var e=v(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=At?e.trim():Ot(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,c=e.slice(2),u=0,a=c.length;u<a;u++)if((s=c.charCodeAt(u))<48||s>i)return NaN;return parseInt(c,r)}}return+e};if(!wt(" 0o1")||!wt("0b1")||wt("+0x1")){wt=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof wt&&(Nt?s((function(){Lt.valueOf.call(n)})):"Number"!=R(n))?U(new Tt(Pt(e)),n,wt):Pt(e)};for(var jt,Ft=c?Et(Tt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Rt=0;Ft.length>Rt;Rt++)E(Tt,jt=Ft[Rt])&&!E(wt,jt)&&Ct(wt,jt,It(Tt,jt));wt.prototype=Lt,Lt.constructor=wt,N(f,"Number",wt)}var $t=l((function(t){var e=T("wks"),n=f.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:O)("Symbol."+t))}).store=e})),kt=$t("unscopables"),Mt=Array.prototype;null==Mt[kt]&&S(Mt,kt,{});var Vt=function(t){Mt[kt][t]=!0},Gt=function(t,e){return{value:e,done:!!t}},Bt={},Dt=g.f,Ht=$t("toStringTag"),Yt=function(t,e,n){t&&!E(t=n?t:t.prototype,Ht)&&Dt(t,Ht,{configurable:!0,value:e})},Ut={};S(Ut,$t("iterator"),(function(){return this}));var Wt=function(t,e,n){t.prototype=xt(Ut,{next:_(1,n)}),Yt(t,e+" Iterator")},qt=Z("IE_PROTO"),zt=Object.prototype,Xt=Object.getPrototypeOf||function(t){return t=Object(V(t)),E(t,qt)?t[qt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?zt:null},Jt=$t("iterator"),Kt=!([].keys&&"next"in[].keys()),Qt=function(){return this},Zt=function(t,e,n,r,i,o,s){Wt(n,e,r);var c,u,a,l=function(t){if(!Kt&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",p="values"==i,d=!1,h=t.prototype,m=h[Jt]||h["@@iterator"]||i&&h[i],v=m||l(i),y=i?p?l("entries"):v:void 0,g="Array"==e&&h.entries||m;if(g&&(a=Xt(g.call(new t)))!==Object.prototype&&a.next&&(Yt(a,f,!0),"function"!=typeof a[Jt]&&S(a,Jt,Qt)),p&&m&&"values"!==m.name&&(d=!0,v=function(){return m.call(this)}),(Kt||d||!h[Jt])&&S(h,Jt,v),Bt[e]=v,Bt[f]=Qt,i)if(c={values:p?v:l("values"),keys:o?v:l("keys"),entries:y},s)for(u in c)u in h||N(h,u,c[u]);else ct(ct.P+ct.F*(Kt||d),e,c);return c}(Array,"Array",(function(t,e){this._t=G(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Gt(1)):Gt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Bt.Arguments=Bt.Array,Vt("keys"),Vt("values"),Vt("entries");for(var te=$t("iterator"),ee=$t("toStringTag"),ne=Bt.Array,re={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ie=mt(re),oe=0;oe<ie.length;oe++){var se,ce=ie[oe],ue=re[ce],ae=f[ce],le=ae&&ae.prototype;if(le&&(le[te]||S(le,te,ne),le[ee]||S(le,ee,ce),Bt[ce]=ne,ue))for(se in Zt)le[se]||N(le,se,Zt[se],!0)}function fe(t,e,n){this.$children.forEach((function(r){r.$options.componentName===t?r.$emit.apply(r,[e].concat(n)):fe.apply(r,[t,e].concat([n]))}))}var pe="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,de="undefined"==typeof window?{doc:pe,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;const he={name:"cmui-list",mixins:[{methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,i=r.$options.componentName;r&&(!i||i!==t);)(r=r.$parent)&&(i=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){fe.call(this,t,e,n)},getParent:function(e){for(var n=this.$parent;t.get(n,"$options._componentTag")!==e&&(n=t.get(n,"$parent")););return n}}}],props:{col:{type:[Number,Array],default:1,intro:"如果是数字代表列表的列数，如果数组，数组的长度表示列数，数组的每一项表示改该列所占的比例，如[1,2]表示两列，比例为1：2"},space:{type:Number,default:0,intro:"每一列之间的间距"},border:{type:[Boolean,String],default:!1,intro:"布尔类型表示每个item是否带有边框，如果space为0，则边框会自动重合，如果是string类型，表示边框的颜色值"},target:{type:Object,default:function(){return{}},intro:"用于存放后续需要的暂存对象"},index:{type:[Boolean,Function],default:!1,intro:"是否使用索引，可以和cmui-list-group联合使用"}},data:function(){return{borderColor:/^#[a-fA-F0-9]{6}$/.test(this.border)?this.border:"#eeeeee",groupList:[],activeIndex:0,indexItemHeight:0,startIndex:0,listEventStartY:0,useRem:!!/iphone|ipad|android|micromessenger/i.test(de.navigator.userAgent)}},provide:function(){return{bus:{parent:this,children:[]}}},computed:{realSpace:function(){var t=parseInt(this.space)/(this.useRem?150:2)||0;return t?t+(this.useRem?"rem":"px"):0},realCol:function(){var e=this.col;return t.isNumber(e)?t.inRange(e,0,11)&&parseInt(e)||1:t.isArray(e)&&t.every(e,t.isNumber)?e.map((function(t){return parseInt(t)||1})):parseInt(e)||1},containerStyle:function(){return{margin:this.realSpace?"-".concat(this.realSpace):void 0}},boxShadow:function(){return this.border&&!this.realSpace?"0px 0px 0px 1px "+this.borderColor:""},noPaddingbFrom:function(){var e=this.$slots.default.filter((function(e){return"cmui-list-item"===t.get(e,"componentOptions.tag")})).length,n=t.isArray(this.realCol)?this.realCol.length:this.realCol;return e-(e%n||n)}},mounted:function(){if(this.index){var e=this;document.addEventListener("scroll",t.throttle((function(){e.activeIndex=e.groupList.filter((function(t){return t.vm.$el.getBoundingClientRect().top<0})).length}),500),{passive:!0})}},methods:{indexFormat:function(e){return t.isFunction(this.index)?this.index(e):e.toString()[0]},scrollToGroup:function(t){this.preventScroll=!0,this.groupList[t].vm.$el.scrollIntoView(),this.activeIndex=t},indexEvent:function(t,e){var n,r;this.activeIndex=e,this.startIndex=e,this.listEventStartY=t.touches[0].clientY,this.indexItemHeight=this.indexItemHeight||(n=t.target,r=de.getComputedStyle(n),["marginTop","marginBottom","borderTopWidth","borderBottomWidth","height"].reduce((function(t,e){return t+parseInt(r[e])}),0)),this.scrollToGroup(e)},scrollOnIndex:function(t){var e=t.touches[0].clientY-this.listEventStartY,n=parseInt(e/this.indexItemHeight),r=this.startIndex+n;this.activeIndex!==r&&this.groupList[r]&&this.scrollToGroup(r)}}};var me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cmui-list",style:[t.boxShadow]},[n("div",{staticClass:"clearfix",style:t.containerStyle},[t.index?n("div",{staticClass:"fixed-right flex-container center cmui-list-index",staticStyle:{"z-index":"21"}},[n("div",{staticClass:"indexWarp flex-container-col scroll-container-y"},t._l(t.groupList,(function(e,r){return n("span",{key:r,class:{active:r===t.activeIndex},domProps:{textContent:t._s(t.indexFormat(e.title))},on:{touchstart:function(e){return t.indexEvent(e,r)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.scrollOnIndex(e)}}})})),0)]):t._e(),t._v(" "),t._t("default")],2)])};me._withStripped=!0;const ve={name:"cmui-list-group",inject:["bus"],components:{cmuiListItem:o,cmuiList:n({render:me,staticRenderFns:[]},void 0,he,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{title:{type:String,default:"",intro:"标题文本"}},data:function(){return{border:this.bus.parent.border}},created:function(){var t=this.bus.parent;t.index&&t.groupList.push({title:this.title,vm:this})},destroyed:function(){var e=this,n=this.bus.parent;n.index&&t.remove(n.groupList,(function(t){return t.vm===e}))}};var ye=function(){var t=this.$createElement,e=this._self._c||t;return e("cmui-list-item",{staticClass:"cmui-list-group",attrs:{border:!1}},[e("cmui-list",{attrs:{border:this.border}},[e("div",{staticClass:"cmui-list-item-title"},[this._v("\n"+this._s(this.title)+"\n")]),this._v(" "),this._t("default")],2)],1)};ye._withStripped=!0;const ge=n({render:ye,staticRenderFns:[]},void 0,ve,void 0,!1,void 0,!1,void 0,void 0,void 0);return ge.install=function(t,e){t.component(ge.name,ge)},ge}));
