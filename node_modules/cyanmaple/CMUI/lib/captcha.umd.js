!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).captcha=e()}(this,(function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e,n=t((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),r={}.hasOwnProperty,i=function(t,e){return r.call(t,e)},o={}.toString,c=function(t){return o.call(t).slice(8,-1)},u=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!u(t))throw TypeError(t+" is not an object!");return t},s=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},f={f:{}.propertyIsEnumerable},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==c(t)?t.split(""):Object(t)},d=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},h=function(t){return p(d(t))},m=function(t,e){if(!u(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!u(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},v=function(t){try{return!!t()}catch(t){return!0}},y=!v((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),_=n.document,g=u(_)&&u(_.createElement),b=function(t){return g?_.createElement(t):{}},x=!y&&!v((function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,I={f:y?E:function(t,e){if(t=h(t),e=m(e,!0),x)try{return E(t,e)}catch(t){}if(i(t,e))return l(!f.f.call(t,e),t[e])}},S=function(t,e){if(a(t),!u(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},N={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=s(Function.call,I.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return S(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:S}.set,O=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&u(r)&&N&&N(t,r),t},w=Math.ceil,C=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?C:w)(t)},A=Math.min,j=Math.max,P=Math.min,T=t((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),F=(T.version,t((function(t){var e=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:T.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),k=0,M=Math.random(),R=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++k+M).toString(36))},$=F("keys"),B=function(t){return $[t]||($[t]=R(t))},U=(e=!1,function(t,n,r){var i,o,c=h(t),u=(i=c.length)>0?A(V(i),9007199254740991):0,a=function(t,e){return(t=V(t))<0?j(t+e,0):P(t,e)}(r,u);if(e&&n!=n){for(;u>a;)if((o=c[a++])!=o)return!0}else for(;u>a;a++)if((e||a in c)&&c[a]===n)return e||a||0;return!e&&-1}),G=B("IE_PROTO"),X=function(t,e){var n,r=h(t),o=0,c=[];for(n in r)n!=G&&i(r,n)&&c.push(n);for(;e.length>o;)i(r,n=e[o++])&&(~U(c,n)||c.push(n));return c},L="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),D=L.concat("length","prototype"),z={f:Object.getOwnPropertyNames||function(t){return X(t,D)}},W=Object.defineProperty,Y={f:y?Object.defineProperty:function(t,e,n){if(a(t),e=m(e,!0),a(n),x)try{return W(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},q=y?function(t,e,n){return Y.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},H=F("native-function-to-string",Function.toString),J=t((function(t){var e=R("src"),r=(""+H).split("toString");T.inspectSource=function(t){return H.call(t)},(t.exports=function(t,o,c,u){var a="function"==typeof c;a&&(i(c,"name")||q(c,"name",o)),t[o]!==c&&(a&&(i(c,e)||q(c,e,t[o]?""+t[o]:r.join(String(o)))),t===n?t[o]=c:u?t[o]?t[o]=c:q(t,o,c):(delete t[o],q(t,o,c)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||H.call(this)}))})),K=function(t,e,r){var i,o,c,u,a=t&K.F,f=t&K.G,l=t&K.S,p=t&K.P,d=t&K.B,h=f?n:l?n[e]||(n[e]={}):(n[e]||{}).prototype,m=f?T:T[e]||(T[e]={}),v=m.prototype||(m.prototype={});for(i in f&&(r=e),r)c=((o=!a&&h&&void 0!==h[i])?h:r)[i],u=d&&o?s(c,n):p&&"function"==typeof c?s(Function.call,c):c,h&&J(h,i,c,t&K.U),m[i]!=c&&q(m,i,u),p&&v[i]!=c&&(v[i]=c)};n.core=T,K.F=1,K.G=2,K.S=4,K.P=8,K.B=16,K.W=32,K.U=64,K.R=128;var Q=K,Z="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",tt="["+Z+"]",et=RegExp("^"+tt+tt+"*"),nt=RegExp(tt+tt+"*$"),rt=function(t,e,n){var r={},i=v((function(){return!!Z[t]()||"​"!="​"[t]()})),o=r[t]=i?e(it):Z[t];n&&(r[n]=o),Q(Q.P+Q.F*i,"String",r)},it=rt.trim=function(t,e){return t=String(d(t)),1&e&&(t=t.replace(et,"")),2&e&&(t=t.replace(nt,"")),t},ot=rt,ct=Object.keys||function(t){return X(t,L)},ut=y?Object.defineProperties:function(t,e){a(t);for(var n,r=ct(e),i=r.length,o=0;i>o;)Y.f(t,n=r[o++],e[n]);return t},at=n.document,st=at&&at.documentElement,ft=B("IE_PROTO"),lt=function(){},pt=function(){var t,e=b("iframe"),n=L.length;for(e.style.display="none",st.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pt=t.F;n--;)delete pt.prototype[L[n]];return pt()},dt=Object.create||function(t,e){var n;return null!==t?(lt.prototype=a(t),n=new lt,lt.prototype=null,n[ft]=t):n=pt(),void 0===e?n:ut(n,e)},ht=z.f,mt=I.f,vt=Y.f,yt=ot.trim,_t=n.Number,gt=_t,bt=_t.prototype,xt="Number"==c(dt(bt)),Et="trim"in String.prototype,It=function(t){var e=m(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=Et?e.trim():yt(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var c,u=e.slice(2),a=0,s=u.length;a<s;a++)if((c=u.charCodeAt(a))<48||c>i)return NaN;return parseInt(u,r)}}return+e};if(!_t(" 0o1")||!_t("0b1")||_t("+0x1")){_t=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _t&&(xt?v((function(){bt.valueOf.call(n)})):"Number"!=c(n))?O(new gt(It(e)),n,_t):It(e)};for(var St,Nt=y?ht(gt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ot=0;Nt.length>Ot;Ot++)i(gt,St=Nt[Ot])&&!i(_t,St)&&vt(_t,St,mt(gt,St));_t.prototype=bt,bt.constructor=_t,J(n,"Number",_t)}var wt={name:"cmui-captcha",props:{length:{type:Number,default:4,intro:"允许输入的最大长度"},type:{type:String,default:"number",intro:"输入的类型，可选项为number|string"},hide:{type:Boolean,default:!1,intro:"是否隐藏输入文本并用点表示"},value:{type:String,default:"",intro:"v-model绑定的内容"}},data:function(){return{activeIndex:-1}},computed:{selfValue:{get:function(){return"number"===this.type&&!/^\d+$/.test(this.value)&&this.value.length?"":this.value},set:function(t){"number"===this.type&&!/^\d+$/.test(t)&&t.length||(t.length>=this.length&&this.inputEnd(),this.setActiveIndex(),this.$emit("input",t))}}},created:function(){this.setActiveIndex(-1)},methods:{inputStart:function(){this.$refs.input.focus(),this.setActiveIndex()},inputEnd:function(){this.$refs.input.blur(),this.$emit("inputEnd",this.value,this)},inputBlur:function(){this.setActiveIndex(-1)},setActiveIndex:function(t){this.activeIndex=t?-1:this.value.length}}};function Ct(t,e,n,r,i,o,c,u,a,s){"boolean"!=typeof c&&(a=u,u=c,c=!1);const f="function"==typeof n?n.options:n;let l;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),r&&(f._scopeId=r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=l):e&&(l=c?function(t){e.call(this,s(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(f.functional){const t=f.render;f.render=function(e,n){return l.call(n),t(e,n)}}else{const t=f.beforeCreate;f.beforeCreate=t?[].concat(t,l):[l]}return n}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.cmui-captcha__input[data-v-5fff07ca]{position:absolute;left:-99.99rem;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.cmui-captcha__item.active .cmui-captcha__line[data-v-5fff07ca]{height:50%;width:1px}');const Vt=wt;var At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cmui-captcha"},[n("div",{staticClass:"cmui-captcha__warp flex-container center",on:{click:t.inputStart}},t._l(t.length,(function(e,r){return n("div",{key:r,staticClass:"cmui-captcha__item ratio-container pos-r",class:{active:r===t.activeIndex}},[n("span",{staticClass:"flex-container center"},[t.hide&&r<t.selfValue.length?n("span",{staticClass:"cmui-captcha__dot"}):[t._v(t._s(t.selfValue[r]))],t._v(" "),r===t.activeIndex?n("span",{staticClass:"cmui-captcha__line"}):t._e()],2)])})),0),t._v(" "),n("form",{attrs:{action:""}},["checkbox"==("number"===t.type?"tel":"text")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.selfValue,expression:"selfValue"}],ref:"input",staticClass:"cmui-captcha__input",attrs:{name:"",type:"checkbox"},domProps:{checked:Array.isArray(t.selfValue)?t._i(t.selfValue,null)>-1:t.selfValue},on:{blur:t.inputBlur,change:function(e){var n=t.selfValue,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.selfValue=n.concat([null])):o>-1&&(t.selfValue=n.slice(0,o).concat(n.slice(o+1)))}else t.selfValue=i}}}):"radio"==("number"===t.type?"tel":"text")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.selfValue,expression:"selfValue"}],ref:"input",staticClass:"cmui-captcha__input",attrs:{name:"",type:"radio"},domProps:{checked:t._q(t.selfValue,null)},on:{blur:t.inputBlur,change:function(e){t.selfValue=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.selfValue,expression:"selfValue"}],ref:"input",staticClass:"cmui-captcha__input",attrs:{name:"",type:"number"===t.type?"tel":"text"},domProps:{value:t.selfValue},on:{blur:t.inputBlur,input:function(e){e.target.composing||(t.selfValue=e.target.value)}}})])])};At._withStripped=!0;const jt=Ct({render:At,staticRenderFns:[]},void 0,Vt,"data-v-5fff07ca",!1,void 0,!1,void 0,void 0,void 0);return jt.install=function(t,e){t.component(jt.name,jt)},jt}));
